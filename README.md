# Разработка StoryValut (Yii2)

Создать приложение “StoryValut”, в котором любой может оставить своё сообщение.

### Требование к приложению
* Фреймворк: Yii2, рекомендуется шаблон “basic”.
* Все лишние Yii2 Basic страницы по-умолчанию вроде “About”, “Contact” должны быть удалены
* Относитесь к проекту так, будто это реальный коммерческий продукт:
    - понятный и логично структурированный код;
    - внимание к безопасности;
    - поддерживаемость и простота дальнейшего развития проекта;
    - документирование; 
* Разрешено использовать сторонние библиотеки, возможности фреймворка для решения задач. 

### Требования к отправке постов
* Ограничения символов:
    - Имя автора: минимум 2 символа, максимум 15.
    - Сообщение: минимум 5 символов, максимум 1000.
* Валидный e-mail
* Каптча/Рекаптча
* IP автора должен записываться
* Дата публикации должна записываться в unixtime
* Запрещены сообщения, состоящие исключительно из пробелов
* Разрешать отправлять автору только 1 сообщение в 3 минуты. При попытке отправить ранее, чем через 3 минуты — выводить ошибку, в которой указано когда может быть опубликовано следующее сообщение

### Требования к выводу постов
* Посты должны выводится в формате Bootstrap Card
  
ℹ️ Готовая разметка
```
<div class="card card-default">
    <div class="card-body">
        <h5 class="card-title">{{author}}</h5>
        <p>{{message}}</p>
        <p>
            <small class="text-muted">
                {{createdAtRelative}} |
								{{ip}} | 
								{{postsCount, plural, =0{нет постов} one{# пост} few{# поста} many{# постов} other{# поста}}}
            </small>
        </p>
    </div>
</div>
```

* Выводить общее число сообщений автора (на основе IP-адреса)
* Разрешать использовать в сообщении только HTML-тэги: `<b>, <i>, <s>`
* Дата публикации выводится в формате “Relative time” (Пример: “10 минут назад”)
* Полузакрытый IP адрес: 
    - Для IPv4: 2 последних разряда (октета) должны быть скрыты. Пример: 46.211.**.**
    - Для IPv6 адреса — скрывать 4 последних секции адреса IPv6. Пример: 2001:0db8:11a3:09d7:1f34:8a2e:07a0:765d:****:****:****:****

### Управление постами
* После отправки поста, отправлять автору на e-mail письмо, в котором идут приватные ссылки на управление его постом: 
    - Редактирование поста
    - Удаление поста
* Реальную отправку настраивать не нужно. Результат будет проверяться в отладочном режиме отправки почты Yii2. 
* Редактирование доступно в течение 12 часов после отправки. Редактируется только само сообщение. Применяются те же правила валидации, что и при отправке.
* Удаление поста доступно в течение 14 дней с момента публикации. Физическое удаление из базы данных не происходит (soft-deleted). Подтверждение удаления выполняется на отдельной странице, где пользователь должен явно подтвердить действие. 
